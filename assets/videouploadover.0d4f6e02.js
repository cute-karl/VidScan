import{g as ke,E as O,_ as me}from"./base.cd18ae27.js";import{E as Ee}from"./el-button.bba951d4.js";import{am as B,aH as Ie,b as pe,d as K,i as ue,a as ne,bH as ve,bI as Ce,bJ as Se,B as ge,u as be,bm as Le,E as h,bK as ze,ah as xe,c as y,F as ce,G as we,Q as ye,o as _,K as de,f,w as C,h as w,n as g,j as e,k as fe,L as Ne,N as z,a9 as Oe,e as L,R as se,a1 as Be,a2 as Fe,bL as Te,ae as $e,M as Ae,bM as Re,bN as De,S as Ve,g as Me,v as Ye,r as te,T as He,bn as Pe,bO as Xe,l as _e,A as Ke,O as je,at as We,aa as Ue,t as Ge,bP as Qe,ax as Ze,bQ as qe,U as Je,bR as ea,bS as aa}from"./index.3dd94e3b.js";import{a as R}from"./index.92832e52.js";import{m as he,u as ta}from"./index.6a949739.js";import{d as sa,E as A}from"./aria.9554c3b3.js";const na=(n,c)=>{if(!B||!n||!c)return!1;const s=n.getBoundingClientRect();let d;return c instanceof Element?d=c.getBoundingClientRect():d={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},s.top<d.bottom&&s.bottom>d.top&&s.right>d.left&&s.left<d.right};var oa="Expected a function";function re(n,c,s){var d=!0,l=!0;if(typeof n!="function")throw new TypeError(oa);return Ie(s)&&(d="leading"in s?!!s.leading:d,l="trailing"in s?!!s.trailing:l),sa(n,c,{leading:d,maxWait:c,trailing:l})}const la=(n,c)=>{if(!B)return!1;const s={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(c)],d=ke(n,s);return["scroll","auto","overlay"].some(l=>d.includes(l))},ia=(n,c)=>{if(!B)return;let s=n;for(;s;){if([window,document,document.documentElement].includes(s))return window;if(la(s,c))return s;s=s.parentNode}return s},ra=pe({urlList:{type:K(Array),default:()=>he([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:K(String)}}),ua={close:()=>!0,switch:n=>ue(n),rotate:n=>ue(n)},ca=["src","crossorigin"],da=ne({name:"ElImageViewer"}),fa=ne({...da,props:ra,emits:ua,setup(n,{expose:c,emit:s}){var d;const l=n,p={CONTAIN:{name:"contain",icon:ve(Ce)},ORIGINAL:{name:"original",icon:ve(Se)}},{t:D}=ge(),i=be("image-viewer"),{nextZIndex:V}=Le(),x=h(),N=h([]),F=ze(),k=h(!0),v=h(l.initialIndex),T=xe(p.CONTAIN),r=h({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),M=h((d=l.zIndex)!=null?d:V()),oe=y(()=>{const{urlList:t}=l;return t.length<=1}),j=y(()=>v.value===0),W=y(()=>v.value===l.urlList.length-1),Y=y(()=>l.urlList[v.value]),le=y(()=>[i.e("btn"),i.e("prev"),i.is("disabled",!l.infinite&&j.value)]),U=y(()=>[i.e("btn"),i.e("next"),i.is("disabled",!l.infinite&&W.value)]),H=y(()=>{const{scale:t,deg:o,offsetX:u,offsetY:E,enableTransition:S}=r.value;let b=u/t,I=E/t;switch(o%360){case 90:case-270:[b,I]=[I,-b];break;case 180:case-180:[b,I]=[-b,-I];break;case 270:case-90:[b,I]=[-I,b];break}const $={transform:`scale(${t}) rotate(${o}deg) translate(${b}px, ${I}px)`,transition:S?"transform .3s":""};return T.value.name===p.CONTAIN.name&&($.maxWidth=$.maxHeight="100%"),$});function P(){G(),s("close")}function ie(){const t=re(u=>{switch(u.code){case A.esc:l.closeOnPressEscape&&P();break;case A.space:ee();break;case A.left:ae();break;case A.up:m("zoomIn");break;case A.right:a();break;case A.down:m("zoomOut");break}}),o=re(u=>{const E=u.deltaY||u.deltaX;m(E<0?"zoomIn":"zoomOut",{zoomRate:l.zoomRate,enableTransition:!1})});F.run(()=>{R(document,"keydown",t),R(document,"wheel",o)})}function G(){F.stop()}function Q(){k.value=!1}function Z(t){k.value=!1,t.target.alt=D("el.image.error")}function q(t){if(k.value||t.button!==0||!x.value)return;r.value.enableTransition=!1;const{offsetX:o,offsetY:u}=r.value,E=t.pageX,S=t.pageY,b=re($=>{r.value={...r.value,offsetX:o+$.pageX-E,offsetY:u+$.pageY-S}}),I=R(document,"mousemove",b);R(document,"mouseup",()=>{I()}),t.preventDefault()}function J(){r.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ee(){if(k.value)return;const t=Xe(p),o=Object.values(p),u=T.value.name,S=(o.findIndex(b=>b.name===u)+1)%t.length;T.value=p[t[S]],J()}function X(t){const o=l.urlList.length;v.value=(t+o)%o}function ae(){j.value&&!l.infinite||X(v.value-1)}function a(){W.value&&!l.infinite||X(v.value+1)}function m(t,o={}){if(k.value)return;const{minScale:u,maxScale:E}=l,{zoomRate:S,rotateDeg:b,enableTransition:I}={zoomRate:l.zoomRate,rotateDeg:90,enableTransition:!0,...o};switch(t){case"zoomOut":r.value.scale>u&&(r.value.scale=Number.parseFloat((r.value.scale/S).toFixed(3)));break;case"zoomIn":r.value.scale<E&&(r.value.scale=Number.parseFloat((r.value.scale*S).toFixed(3)));break;case"clockwise":r.value.deg+=b,s("rotate",r.value.deg);break;case"anticlockwise":r.value.deg-=b,s("rotate",r.value.deg);break}r.value.enableTransition=I}return ce(Y,()=>{we(()=>{const t=N.value[0];t!=null&&t.complete||(k.value=!0)})}),ce(v,t=>{J(),s("switch",t)}),ye(()=>{var t,o;ie(),(o=(t=x.value)==null?void 0:t.focus)==null||o.call(t)}),c({setActiveItem:X}),(t,o)=>(_(),de(Pe,{to:"body",disabled:!t.teleported},[f(He,{name:"viewer-fade",appear:""},{default:C(()=>[w("div",{ref_key:"wrapper",ref:x,tabindex:-1,class:g(e(i).e("wrapper")),style:fe({zIndex:M.value})},[w("div",{class:g(e(i).e("mask")),onClick:o[0]||(o[0]=Ne(u=>t.hideOnClickModal&&P(),["self"]))},null,2),z(" CLOSE "),w("span",{class:g([e(i).e("btn"),e(i).e("close")]),onClick:P},[f(e(O),null,{default:C(()=>[f(e(Oe))]),_:1})],2),z(" ARROW "),e(oe)?z("v-if",!0):(_(),L(se,{key:0},[w("span",{class:g(e(le)),onClick:ae},[f(e(O),null,{default:C(()=>[f(e(Be))]),_:1})],2),w("span",{class:g(e(U)),onClick:a},[f(e(O),null,{default:C(()=>[f(e(Fe))]),_:1})],2)],64)),z(" ACTIONS "),w("div",{class:g([e(i).e("btn"),e(i).e("actions")])},[w("div",{class:g(e(i).e("actions__inner"))},[f(e(O),{onClick:o[1]||(o[1]=u=>m("zoomOut"))},{default:C(()=>[f(e(Te))]),_:1}),f(e(O),{onClick:o[2]||(o[2]=u=>m("zoomIn"))},{default:C(()=>[f(e($e))]),_:1}),w("i",{class:g(e(i).e("actions__divider"))},null,2),f(e(O),{onClick:ee},{default:C(()=>[(_(),de(Ae(e(T).icon)))]),_:1}),w("i",{class:g(e(i).e("actions__divider"))},null,2),f(e(O),{onClick:o[3]||(o[3]=u=>m("anticlockwise"))},{default:C(()=>[f(e(Re))]),_:1}),f(e(O),{onClick:o[4]||(o[4]=u=>m("clockwise"))},{default:C(()=>[f(e(De))]),_:1})],2)],2),z(" CANVAS "),w("div",{class:g(e(i).e("canvas"))},[(_(!0),L(se,null,Ve(t.urlList,(u,E)=>Me((_(),L("img",{ref_for:!0,ref:S=>N.value[E]=S,key:u,src:u,style:fe(e(H)),class:g(e(i).e("img")),crossorigin:t.crossorigin,onLoad:Q,onError:Z,onMousedown:q},null,46,ca)),[[Ye,E===v.value]])),128))],2),te(t.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var va=me(fa,[["__file","image-viewer.vue"]]);const ma=_e(va),pa=pe({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:K([String,Object])},previewSrcList:{type:K(Array),default:()=>he([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:K(String)}}),ga={load:n=>n instanceof Event,error:n=>n instanceof Event,switch:n=>ue(n),close:()=>!0,show:()=>!0},ba=["src","loading","crossorigin"],wa={key:0},ya=ne({name:"ElImage",inheritAttrs:!1}),_a=ne({...ya,props:pa,emits:ga,setup(n,{emit:c}){const s=n;let d="";const{t:l}=ge(),p=be("image"),D=Ke(),i=ta(),V=h(),x=h(!1),N=h(!0),F=h(!1),k=h(),v=h(),T=B&&"loading"in HTMLImageElement.prototype;let r,M;const oe=y(()=>[p.e("inner"),Y.value&&p.e("preview"),N.value&&p.is("loading")]),j=y(()=>D.style),W=y(()=>{const{fit:a}=s;return B&&a?{objectFit:a}:{}}),Y=y(()=>{const{previewSrcList:a}=s;return Array.isArray(a)&&a.length>0}),le=y(()=>{const{previewSrcList:a,initialIndex:m}=s;let t=m;return m>a.length-1&&(t=0),t}),U=y(()=>s.loading==="eager"?!1:!T&&s.loading==="lazy"||s.lazy),H=()=>{!B||(N.value=!0,x.value=!1,V.value=s.src)};function P(a){N.value=!1,x.value=!1,c("load",a)}function ie(a){N.value=!1,x.value=!0,c("error",a)}function G(){na(k.value,v.value)&&(H(),q())}const Q=Qe(G,200,!0);async function Z(){var a;if(!B)return;await we();const{scrollContainer:m}=s;We(m)?v.value=m:Ue(m)&&m!==""?v.value=(a=document.querySelector(m))!=null?a:void 0:k.value&&(v.value=ia(k.value)),v.value&&(r=R(v,"scroll",Q),setTimeout(()=>G(),100))}function q(){!B||!v.value||!Q||(r==null||r(),v.value=void 0)}function J(a){if(!!a.ctrlKey){if(a.deltaY<0)return a.preventDefault(),!1;if(a.deltaY>0)return a.preventDefault(),!1}}function ee(){!Y.value||(M=R("wheel",J,{passive:!1}),d=document.body.style.overflow,document.body.style.overflow="hidden",F.value=!0,c("show"))}function X(){M==null||M(),document.body.style.overflow=d,F.value=!1,c("close")}function ae(a){c("switch",a)}return ce(()=>s.src,()=>{U.value?(N.value=!0,x.value=!1,q(),Z()):H()}),ye(()=>{U.value?Z():H()}),(a,m)=>(_(),L("div",{ref_key:"container",ref:k,class:g([e(p).b(),a.$attrs.class]),style:fe(e(j))},[x.value?te(a.$slots,"error",{key:0},()=>[w("div",{class:g(e(p).e("error"))},Ge(e(l)("el.image.error")),3)]):(_(),L(se,{key:1},[V.value!==void 0?(_(),L("img",je({key:0},e(i),{src:V.value,loading:a.loading,style:e(W),class:e(oe),crossorigin:a.crossorigin,onClick:ee,onLoad:P,onError:ie}),null,16,ba)):z("v-if",!0),N.value?(_(),L("div",{key:1,class:g(e(p).e("wrapper"))},[te(a.$slots,"placeholder",{},()=>[w("div",{class:g(e(p).e("placeholder"))},null,2)])],2)):z("v-if",!0)],64)),e(Y)?(_(),L(se,{key:2},[F.value?(_(),de(e(ma),{key:0,"z-index":a.zIndex,"initial-index":e(le),infinite:a.infinite,"zoom-rate":a.zoomRate,"min-scale":a.minScale,"max-scale":a.maxScale,"url-list":a.previewSrcList,"hide-on-click-modal":a.hideOnClickModal,teleported:a.previewTeleported,"close-on-press-escape":a.closeOnPressEscape,onClose:X,onSwitch:ae},{default:C(()=>[a.$slots.viewer?(_(),L("div",wa,[te(a.$slots,"viewer")])):z("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):z("v-if",!0)],64)):z("v-if",!0)],6))}});var ha=me(_a,[["__file","image.vue"]]);const ka=_e(ha);const Ea={name:"LeftRightSplit",methods:{startDetection(){alert("\u5F00\u59CB\u68C0\u6D4B\uFF01")}}};const Ia=n=>(ea("data-v-0a2ba28a"),n=n(),aa(),n),Ca={class:"container"},Sa={class:"left"},La=Ia(()=>w("p",{class:"text"},"\u4E0A\u4F20\u7684\u89C6\u9891\u5982\u4E0B\uFF1A",-1)),za=qe('<div class="right" data-v-0a2ba28a><p class="result-text" data-v-0a2ba28a>\u68C0\u6D4B\u7ED3\u679C\u5982\u4E0B\uFF1A</p><div class="fake-video" data-v-0a2ba28a>\u4F2A\u9020\u89C6\u9891</div><p class="evaluation-text" data-v-0a2ba28a>\u8BC4\u4EF7\u6307\u6807\uFF1A</p><div class="metrics" data-v-0a2ba28a><div class="metric" data-v-0a2ba28a>\u53EF\u9760\u6027</div><div class="divider" data-v-0a2ba28a></div><div class="metric" data-v-0a2ba28a>\u8BEF\u5DEE</div><div class="divider" data-v-0a2ba28a></div><div class="metric" data-v-0a2ba28a>\u538B\u7F29\u6027</div><div class="divider" data-v-0a2ba28a></div><div class="metric" data-v-0a2ba28a>\u566A\u97F3</div><div class="divider" data-v-0a2ba28a></div></div></div>',1);function xa(n,c,s,d,l,p){const D=ka,i=Ee;return _(),L("div",Ca,[w("div",Sa,[La,f(D,{src:"src/assets/img/viewimg.png",alt:"Uploaded video thumbnail",class:"image-preview"}),f(i,{type:"primary",onClick:p.startDetection,class:"button"},{default:C(()=>[Je("\u5F00\u59CB\u68C0\u6D4B")]),_:1},8,["onClick"])]),za])}const Aa=Ze(Ea,[["render",xa],["__scopeId","data-v-0a2ba28a"]]);export{Aa as default};
